<%- include('partial/header'); -%>
	<h2 class="h2__bell"><span>タイムテーブル</span></h2>
	<div class="container pb-32 m-auto text-primary">
			<table class="w-full">
				<thead>
					<tr>

						<th class="px-4 py-2 text-xs sm:text-base whitespace-nowrap">
							<%=locals.timetable.table.head.shift() %>
						</th>
						<% for(h of locals.timetable.table.head) { %>
							<th class="w-1/3 px-4 py-2 text-xs sm:text-base">
								<%= h %>
							</th>
							<% } %>
						</th>
					</tr>
				</thead>
				<tbody>
					<% for (const row of locals.timetable.table.row) { %>
						<tr>
							<th
								class="py-0 sm:p-0 leading-4 sm:leading-7 text-xs w-[15em] sm:whitespace-nowrap sm:align-top font-normal border-b border-black">
								<%= row.time %>
							</th>

							<% for(const td of row.td) {%>
								<td rowspan="<%= td.rowspan%>" class="py-0 px-2 align-top border-b  border-black" >
									<% if(td.talk_id){ %>
											<a class="items-center text-sm font-bold sm:text-base hover:underline"
												href="#talk-<%= td.talk_id%>" data-modal-target="test">
												<%= td.title %>
													<svg xmlns="http://www.w3.org/2000/svg" class="inline-block w-4 h-4 align-text-top"
														viewBox="0 0 20 20" fill="currentColor">
														<path
															d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z" />
														<path
															d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z" />
													</svg>
											</a>
										<% } else {%>
										<span class="text-sm"><%= td.title %></span>
									<% } %>
										<small class="opacity-80"><%= td.duration %>min.</small>
										<div class="mt-1 text-sm"><%= td.author %><div>
								</td>
							<%}%>
						</tr>
					<% } %>
				</tbody>
			</table>
	</div>


	<% for (const talk of locals.timetable.talks) { %>
		<div id="talk-<%= talk.talk_id %>"
			class="fixed top-0 left-0 z-30 flex flex-col items-center justify-center invisible w-full h-full opacity-0 backdrop-blur-sm transition-opacity target:visible target:opacity-100">
			<a href="#__" class="fixed top-0 left-0 w-full h-full bg-black opacity-50 cursor-default"></a>
			<div class="rounded-lg overflow-hidden w-11/12 z-40 md:w-[704px] h-full md:h-[80vh] my-4 relative modal-bg">
				<div class="h-full overflow-scroll">
					<div class="px-8 py-8 sm:px-16 sm:py-12 text-primary">
						<h2 class="text-xl font-bold text-center lg:text-3xl">
							<%= talk.title%>
						</h2>
						<hr class="hr__tora" />
						<div class="md:flex mb-9">
							<% for (const author of talk.authors) { %>
								<div class="flex-1 mt-6 text-center sm:mt-8">
			<div class="guest-photo__wrapper guest-photo__wrapper--talk">
				<img src="<%= author.author_icon %>" alt="" />
			</div>
									<author class="block pt-4 font-bold">
										<%= author.author %>
									</author>
									<div class="flex items-center justify-center mt-3 gap-3">
										<a target="_blank" href="<%= author.github_url %>">
											<img class="inline-block w-6 h-6" src="./images/icon-github.svg" alt="GitHub" />
										</a>
										<a target="_blank" href="<%= author.twitter_url %>">
											<img class="inline-block w-6 h-6" src="./images/icon-twitter.svg" alt="Twitter" />
										</a>
										<% if(author.blog_url){ %>
											<a target="_blank" class="underline" href="<%= author.blog_url %>">
												<img class="inline-block w-6 h-6" src="./images/icon-link.svg" alt="Blog" />
											</a>
											<% } %>
									</div>
								</div>
								<% } %>
						</div>
						<div class="my-6 text-sm sm:my-8 lg:text-base">
							<pre class="whitespace-pre-line"><%= talk.description %></pre>
						</div>
					</div>
				</div>
				<a href="#__"
					class="absolute bottom-0 left-0 right-0 block w-full p-5 text-md font-bold text-center bg-black text-[#FFDE17] text-primary">閉じる</a>
			</div>
		</div>
		<% } %>
<%- include('partial/footer'); -%>